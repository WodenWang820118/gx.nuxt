import{_ as $}from"./DVSH2alI.js";import{_ as h}from"./DSlk78Em.js";import{f as k,r as i,q as P,g as S,s as f,h as x,o as u,c as p,a as g,F as y,i as w,b as d,m as M,_ as z,j as C,w as V}from"./Dsxbz3Un.js";import{_ as R}from"./Dqt0ub_F.js";import{_ as j}from"./Ba36nEMu.js";const b=k("popular",()=>{const c=i([]),a=i({currentPage:1,totalPages:0,totalResults:0,pageSize:10}),r=i([]),t=i({currentPage:1,totalPages:0,totalResults:0,pageSize:10}),l=i(!1),e=i(null),n=async(v=1)=>{l.value=!0,e.value=null;try{const s=await $fetch("api/movie/popular",{params:{page:v.toString()}});s&&(c.value=s.popularMovies.results,a.value={currentPage:v,totalPages:s.popularMovies.total_pages,totalResults:s.popularMovies.total_results,pageSize:10})}catch(s){e.value=s.message||"Failed to fetch popular movies"}finally{l.value=!1}},_=async(v=1)=>{l.value=!0,e.value=null;try{const s=await $fetch("api/series/popular",{params:{page:v.toString()}});s&&(r.value=s.popularSeries.results,t.value={currentPage:v,totalPages:s.popularSeries.total_pages,totalResults:s.popularSeries.total_results,pageSize:10})}catch(s){e.value=s.message||"Failed to fetch popular series"}finally{l.value=!1}},m=P(()=>e.value!==null),o=P(()=>c.value!==null&&r.value!==null);return{popularMovies:c,popularSeries:r,isLoading:l,error:e,moviePagination:a,seriesPagination:t,fetchPopularMovies:n,fetchPopularSeries:_,hasError:m,isContentLoaded:o}}),U={class:"mb-12"},B={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},F={class:"mt-8 flex justify-center"},L=S({__name:"PopularMovieSection",setup(c){const a=b(),r=i([]),t=i({currentPage:1,totalResults:0,totalPages:0,pageSize:10}),l=async e=>{console.log("Movie Page to:",e),await a.fetchPopularMovies(e)};return f(()=>a.popularMovies,e=>{r.value=e},{deep:!0}),f(()=>a.moviePagination,e=>{t.value=e},{deep:!0}),x(async()=>{await a.fetchPopularMovies()}),(e,n)=>{const _=$,m=h;return u(),p("section",U,[n[1]||(n[1]=g("h1",{class:"mb-4 text-4xl font-extrabold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl dark:text-white"}," Popular Movies ",-1)),g("div",B,[(u(!0),p(y,null,w(r.value,o=>(u(),p("div",{key:o.id},[d(_,M({ref_for:!0},o,{item:o}),null,16,["item"])]))),128))]),g("div",F,[d(m,{modelValue:t.value.currentPage,"onUpdate:modelValue":[n[0]||(n[0]=o=>t.value.currentPage=o),l],total:t.value.totalPages,"page-count":t.value.pageSize,ui:{wrapper:"justify-center"},"active-button":{variant:"solid",color:"primary"},"inactive-button":{variant:"outline",color:"gray"},"show-first":"","show-last":""},null,8,["modelValue","total","page-count"])])])}}}),E={class:"mb-12"},N={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},q={class:"mt-8 flex justify-center"},A=S({__name:"PopularSeriesSection",setup(c){const a=b(),r=i([]),t=i({currentPage:1,totalResults:0,totalPages:0,pageSize:10}),l=async e=>{await a.fetchPopularSeries(e)};return f(()=>a.popularSeries,e=>{r.value=e},{deep:!0}),f(()=>a.seriesPagination,e=>{t.value=e},{deep:!0}),x(async()=>{await a.fetchPopularSeries()}),(e,n)=>{const _=R,m=h;return u(),p("section",E,[n[1]||(n[1]=g("h1",{class:"mb-4 text-4xl font-extrabold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl dark:text-white"}," Popular Series ",-1)),g("div",N,[(u(!0),p(y,null,w(r.value,o=>(u(),p("div",{key:o.id},[d(_,M({ref_for:!0},o,{item:o}),null,16,["item"])]))),128))]),g("div",q,[d(m,{modelValue:t.value.currentPage,"onUpdate:modelValue":[n[0]||(n[0]=o=>t.value.currentPage=o),l],total:t.value.totalPages,"page-count":t.value.pageSize,ui:{wrapper:"justify-center"},"active-button":{variant:"solid",color:"primary"},"inactive-button":{variant:"outline",color:"gray"},"show-first":"","show-last":""},null,8,["modelValue","total","page-count"])])])}}}),D={};function G(c,a){const r=L,t=A,l=j;return u(),C(l,null,{default:V(()=>[d(r),d(t)]),_:1})}const Q=z(D,[["render",G]]);export{Q as default};

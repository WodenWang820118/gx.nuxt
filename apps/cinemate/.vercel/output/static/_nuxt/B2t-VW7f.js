import{_ as w}from"./DVSH2alI.js";import{_ as C}from"./Ba36nEMu.js";import{_ as S}from"./Dqt0ub_F.js";import{f as B,r as l,q as v,g as T,s as M,o as i,j as f,w as x,a as t,v as R,x as V,c as g,i as p,F as _,p as y,b as k,m as b}from"./Dsxbz3Un.js";const F=B("search",()=>{const c=l([]),r=l([]),o=l(""),n=l(!1),a=l(null),m=v(()=>c.value.length>0||r.value.length>0),s=v(()=>c.value.length+r.value.length);async function h(d){if(!d.trim()){u();return}n.value=!0,a.value=null,o.value=d;try{const e=await $fetch("api/movie/search",{params:{searchTerm:d}});e&&(c.value=e.movies.results||[],r.value=e.series.results||[])}catch(e){a.value="Failed to fetch search results",console.error("Search error:",e)}finally{n.value=!1}}function u(){c.value=[],r.value=[],o.value="",a.value=null}return{movies:c,series:r,searchTerm:o,isLoading:n,error:a,hasResults:m,totalResults:s,searchContent:h,resetSearch:u}}),N={class:"py-4"},$={class:"mx-auto max-w-md"},j={class:"relative"},q={class:"py-8"},L={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},U={class:"py-8"},A={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},z=T({__name:"search",setup(c){const r=l(""),o=l([]),n=l([]),a=F();return M(r,async m=>{await a.searchContent(m),o.value=a.movies,n.value=a.series}),(m,s)=>{const h=w,u=C,d=S;return i(),f(u,null,{default:x(()=>[t("div",N,[t("form",$,[s[2]||(s[2]=t("label",{for:"default-search",class:"sr-only mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Search ",-1)),t("div",j,[s[1]||(s[1]=t("div",{class:"pointer-events-none absolute inset-y-0 start-0 flex items-center ps-3"},[t("svg",{class:"h-4 w-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1)),R(t("input",{id:"default-search","onUpdate:modelValue":s[0]||(s[0]=e=>r.value=e),type:"text",class:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-4 ps-10 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"Search Movies, Series...",required:""},null,512),[[V,r.value]])])])]),t("section",q,[o.value.length?(i(),f(u,{key:0},{default:x(()=>[s[3]||(s[3]=t("h1",{class:"mb-8 text-4xl font-extrabold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl dark:text-white"}," Movie Results ",-1)),t("ul",L,[(i(!0),g(_,null,p(o.value,e=>(i(),g("li",{key:e.id},[k(h,b({ref_for:!0},e,{item:e}),null,16,["item"])]))),128))])]),_:1})):y("",!0)]),t("section",U,[n.value.length?(i(),f(u,{key:0},{default:x(()=>[s[4]||(s[4]=t("h1",{class:"mb-8 text-4xl font-extrabold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl dark:text-white"}," Tv Series Results ",-1)),t("ul",A,[(i(!0),g(_,null,p(n.value,e=>(i(),g("li",{key:e.id},[k(d,b({ref_for:!0},e,{item:e}),null,16,["item"])]))),128))])]),_:1})):y("",!0)])]),_:1})}}});export{z as default};

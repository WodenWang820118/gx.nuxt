import{_ as $}from"./DVSH2alI.js";import{_ as S}from"./DSlk78Em.js";import{f as k,r as l,q as h,g as P,s as f,h as x,o as d,c as p,a as g,F as R,i as y,b as v,m as w,_ as V,j as z,w as C}from"./Dsxbz3Un.js";import{_ as j}from"./Dqt0ub_F.js";import{_ as U}from"./Ba36nEMu.js";const M=k("top-rated",()=>{const u=l([]),n=l({currentPage:1,totalPages:0,totalResults:0,pageSize:10}),t=l([]),o=l({currentPage:1,totalPages:0,totalResults:0,pageSize:10}),r=l(!1),e=l(null),i=h(()=>[...u.value].sort((c,a)=>a.popularity-c.popularity)),_=h(()=>[...t.value].sort((c,a)=>a.popularity-c.popularity)),m=h(()=>u.value.length>0||t.value.length>0),s=async(c=1)=>{r.value=!0,e.value=null;try{const a=await $fetch("api/movie/top-rated",{params:{page:c.toString()}});a&&(u.value=a.topRatedMovies.results||[],n.value={currentPage:c,totalPages:a.topRatedMovies.total_pages,totalResults:a.topRatedMovies.total_results,pageSize:10})}catch(a){e.value="Failed to fetch top rated content",console.error("Error fetching top rated content:",a)}finally{r.value=!1}},T=async(c=1)=>{r.value=!0,e.value=null;try{const a=await $fetch("api/series/top-rated",{params:{page:c.toString()}});a&&(t.value=a.topRatedSeries.results||[],o.value={currentPage:c,totalPages:a.topRatedSeries.total_pages,totalResults:a.topRatedSeries.total_results,pageSize:10})}catch(a){e.value="Failed to fetch top rated series",console.error("Error fetching top rated series:",a)}finally{r.value=!1}};function b(){u.value=[],t.value=[],e.value=null}return{movies:u,series:t,isLoading:r,error:e,moviePagination:n,seriesPagination:o,topMovies:i,topSeries:_,hasContent:m,fetchTopRatedMovies:s,fetchTopRatedSeries:T,resetState:b}}),B={class:"mb-12"},F={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},E={class:"mt-8 flex justify-center"},L=P({__name:"TopRatedMovieSection",setup(u){const n=l([]),t=M(),o=l({currentPage:1,totalResults:0,totalPages:0,pageSize:10}),r=async e=>{console.log("Movie Page to:",e),await t.fetchTopRatedMovies(e)};return f(()=>t.topMovies,e=>{n.value=e},{deep:!0}),f(()=>t.moviePagination,e=>{o.value=e},{deep:!0}),x(async()=>{await t.fetchTopRatedMovies(),n.value=t.topMovies}),(e,i)=>{const _=$,m=S;return d(),p("section",B,[i[1]||(i[1]=g("h1",{class:"mb-4 text-4xl font-extrabold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl dark:text-white"}," Top Rated Movies ",-1)),g("div",F,[(d(!0),p(R,null,y(n.value,s=>(d(),p("div",{key:s.id},[v(_,w({ref_for:!0},s,{item:s}),null,16,["item"])]))),128))]),g("div",E,[v(m,{modelValue:o.value.currentPage,"onUpdate:modelValue":[i[0]||(i[0]=s=>o.value.currentPage=s),r],total:o.value.totalPages,"page-count":o.value.pageSize,ui:{wrapper:"justify-center"},"active-button":{variant:"solid",color:"primary"},"inactive-button":{variant:"outline",color:"gray"},"show-first":"","show-last":""},null,8,["modelValue","total","page-count"])])])}}}),N={class:"mb-12"},q={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"},A={class:"mt-8 flex justify-center"},D=P({__name:"TopRatedSeriesSection",setup(u){const n=l([]),t=M(),o=l({currentPage:1,totalResults:0,totalPages:0,pageSize:10}),r=async e=>{console.log("Series Page to:",e),await t.fetchTopRatedSeries(e)};return f(()=>t.topSeries,e=>{n.value=e},{deep:!0}),f(()=>t.seriesPagination,e=>{o.value=e},{deep:!0}),x(async()=>{await t.fetchTopRatedSeries(),n.value=t.topSeries}),(e,i)=>{const _=j,m=S;return d(),p("section",N,[i[1]||(i[1]=g("h1",{class:"mb-4 text-4xl font-extrabold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl dark:text-white"}," Top Rated TV Series ",-1)),g("div",q,[(d(!0),p(R,null,y(n.value,s=>(d(),p("div",{key:s.id},[v(_,w({ref_for:!0},s,{item:s}),null,16,["item"])]))),128))]),g("div",A,[v(m,{modelValue:o.value.currentPage,"onUpdate:modelValue":[i[0]||(i[0]=s=>o.value.currentPage=s),r],total:o.value.totalPages,"page-count":o.value.pageSize,ui:{wrapper:"justify-center"},"active-button":{variant:"solid",color:"primary"},"inactive-button":{variant:"outline",color:"gray"},"show-first":"","show-last":""},null,8,["modelValue","total","page-count"])])])}}}),G={};function H(u,n){const t=L,o=D,r=U;return d(),z(r,null,{default:C(()=>[v(t),v(o)]),_:1})}const W=V(G,[["render",H]]);export{W as default};
